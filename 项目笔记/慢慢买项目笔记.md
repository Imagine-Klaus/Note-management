## 慢慢买项目学习笔记整理

### 1.0 返回页面顶部的几种方式
- 第一种:命名锚点跳转的方式
> 用锚点 #top（可变）返回到顶部预设的 id 为top（可变）的元素，或者在页面顶部的 > a 标签 name 属性值为 top（可变），新版本的浏览器（chrome等）默认支持 #top 
> 锚点返回顶部且不需要前面所提条件，但是前面条件的优先级大于默认跳转。 

详细可见如下代码：

        1
        2<a href="#top">返回顶部</a>  <!-- fiexd 定位在页面右下角 -->
        3<p id="top">顶部</p>  <!-- id 为 top -->
        4<a name
        5

但它们之间是有优先级的,即
> id > name > 默认        

- 第二种:scroll方法
**window.srcollBy(x,y)方法，**

        function backTop(){
          window.scrollBy(0,-100);
          var scroll =setTimeout('backTop',10)
          var sTop = document.documentElement.scrollTop + document.body.scrollTop
          if(sTop===0){
           clearTimerout(scroll);
          }
        }

>获取scrollTop值，声明了DTD的标准网页取document.documentElement.scrollTop，否则取 document.body.scrollTop因为二者只有一个会生效，另一个就恒为0，所以取和值可以得到网页的真正的 scrollTop值

- 第三种:借助JQ实现

        function backTop (minHeight) {
          var backTopHtml = '<div id="backTopBtn">返回顶部</div>'

          $('#page').append(backTopHtml)

          $('#backTopBtn') .animate({scrollTop: 0}, 700)
          }).hover(
            function () {
              $(this).addClass('hover')
            },
            function () {
              $(this).removeClass('hover')
            }
          )

          minHeight ? minHeight = minHeight : minHeight = 600

          $(window).scroll(function () {
            var s = $(window).scrollTop()

            if (s > minHeight) {
              $('#backTopBtn').fadeIn(100)
            } else {
              $('#backTopBtn').fadeOut(100)
            }
          })
        }

### 2.0 在点击事件中使用ajax注意

> 问题描述：当绑定了点击事件而点击事件中有ajax请求时,此时在ajax回调函数success中this的指向不是click本身:

    
      0: {
        url: "http://127.0.0.1:3000/api/getcategory?titleid=0", 
        type: "GET", 
        isLocal: true, 
        global: true, 
        processData: true,
         …}
      length: 1
      __proto__: Object(0)

> 而是获取了ajax本身,此时如果想要达到原本this的效果,就要使用 **e.target**获取点击时候的对象

<!-- ssh-key -t rsa -C " 376005455@qq.com"
ssh-keyen -t rsa -C "" -->


### 3.0 jq中切换型动画


- toggle(speed,callback,switch);
        toggle在使用的时候默认是display:block;
- slideToggle(speed,callback);

### 4.0 字符串中将数字截取出来
```javascript
   function getNumber(text){
       var result = text.replace(/[^0-9]/ig,"");//将非0-9数字中的任何字符转为空 ,/ig表示全局并且忽略大小写
       return result;
   }
```
